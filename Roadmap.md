Создай веб-приложение под названием «Умный счётчик воды», без системы регистрации и логина.
Цель сайта — показывать пользователю его потребление воды и затраты за период времени.
Источник данных — ESP32, который отправляет данные о литрах воды на сервер через HTTP (в формате JSON).

💻 Технический стек:

Backend: Python + Flask

Database: SQLite

Frontend: HTML, CSS, JavaScript, Chart.js

Серверное API: Flask принимает данные с ESP32 по маршруту /receive_data (POST запрос с JSON {"liters": value})

Отображение: на главной странице / показывается график потребления воды за последние дни

Маршрут /get_data возвращает JSON с историей данных для фронтенда

⚙️ Функциональность:

Главная страница (index.html):

Заголовок: “Мониторинг потребления воды”

Блок с текущим потреблением (например, “Сегодня израсходовано 13.2 литра”)

График (Chart.js) — линия, показывающая расход воды по дням или часам.

Блок “Суммарные затраты” — пересчёт литров в тенге (например, 1 литр = 0.001 тенге, коэффициент можно задать в коде).

Кнопка “Обновить данные” (перезагружает график).

Цветовая тема: светлая, с оттенками синего и белого (ассоциация с водой).

Шрифт: Inter или Roboto, минималистичный интерфейс.

График должен быть адаптивным под мобильные устройства.

Бэкэнд (Flask):

/receive_data — получает JSON { "liters": <число> } и сохраняет запись в SQLite таблицу water_data(id, liters, timestamp).

/get_data — возвращает данные в формате JSON:

{
  "dates": ["2025-10-17", "2025-10-18", ...],
  "liters": [12.3, 15.4, ...]
}


/ — отдаёт HTML с фронтендом.

Сервер автоматически создаёт базу при первом запуске, если её нет.

База данных (SQLite):
Таблица water_data:

id INTEGER PRIMARY KEY

liters REAL

timestamp DATETIME (по умолчанию CURRENT_TIMESTAMP)

Дополнительная логика:

Расчёт “суммарного потребления за день / неделю / месяц”.

Перевод литров в тенге (по формуле, заданной в коде).

Отображение среднего расхода за последние 7 дней.

Возможность сброса данных (кнопка "Очистить базу", POST на /reset).

🎨 Дизайн фронтенда:

Общий стиль:
Минималистичный, чистый, как у банковских приложений (в духе Halyk Bank / Kaspi).

Основной фон — #f8fbff

Цвет акцента (график, кнопки) — #1e90ff

Карточки и графики — на белом фоне, с мягкой тенью и скруглёнными углами.

Расположение элементов:

Вверху заголовок

Под ним карточка с текущим расходом

Ниже — график

Внизу — кнопка обновления

Адаптивный интерфейс для телефона.

Пример структуры (визуально):

┌──────────────────────────────────────┐
│ 🌊 Умный счётчик воды                │
│──────────────────────────────────────│
│ 💧 Сегодня: 13.2 литра               │
│ 💰 Затраты: 0.013 тг                 │
│──────────────────────────────────────│
│ 📈 График потребления за месяц       │
│ [ график Chart.js ]                  │
│──────────────────────────────────────│
│ 🔁 [Обновить данные] [Очистить базу] │
└──────────────────────────────────────┘

🧩 Backend детали:

Flask-приложение должно автоматически создавать базу, если файла нет.

Принимать данные от ESP32 без авторизации.

API должно отвечать JSON-сообщениями, например:

{ "status": "ok", "received": 0.78 }


В базе должны храниться все показания с временной меткой.

Для фронтенда добавить маршрут /get_data, чтобы Chart.js мог построить график.

Обработка ошибок (например, если сервер не смог записать данные).

🧠 Дополнительно:

Сделай код в виде готовой Flask-структуры:

/static
/templates
app.py
database.db


Объясни, как запустить:

pip install flask
python app.py


Добавь тестовые данные, если ESP32 не подключен (для демонстрации работы).